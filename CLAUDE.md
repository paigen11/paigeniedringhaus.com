# CLAUDE.md

## Project Overview

Personal website and blog for Paige Niedringhaus. Recently migrated from Gatsby to Astro.

## Tech Stack

- **Framework:** Astro 5.x (static site generator)
- **Language:** TypeScript for type checking, JavaScript for data files
- **Styling:** Native CSS with custom properties (no Sass, no Tailwind)
- **Content:** MDX for blog posts with embeds, Markdown for simple posts
- **Deployment:** Netlify
- **Package Manager:** npm (not yarn)
- **Node Version:** 24.x (pinned via Volta)

## Project Structure

```
src/
├── components/     # Astro components (.astro files)
├── content/
│   └── posts/      # Symlink to content submodule
├── data/           # Static data (podcasts, speaking, etc.)
├── layouts/        # Page layouts (Layout.astro, BlogPost.astro)
├── pages/          # File-based routing
└── styles/         # Global CSS (global.css)
content/            # Git submodule (pn-blog-posts repo)
public/             # Static assets, images symlinked from content/
```

## Key Conventions

### CSS
- Use `.page-container` class for consistent page layout (defined in global.css)
- Use CSS custom properties from global.css (`--color-*`, `--space-*`, `--radius-*`)
- Scoped styles in `.astro` files; use `:global()` for markdown content styling
- No CSS preprocessors - use native CSS nesting

### TypeScript
- All new files should be TypeScript (`.ts` / `.astro` with typed frontmatter)
- Never use `any` — define proper interfaces or types instead
- Run `npm run lint` before committing to catch type errors and linting violations
- Run `npm run build` before committing to verify the site compiles cleanly

### Components
- All components are Astro components (no React)
- No FontAwesome - icons are inline SVGs or text

### Content
- Blog posts live in a separate Git submodule (`content/`)
- Posts with YouTube/CodePen/CodeSandbox embeds use MDX format
- Regular posts use standard Markdown

## Common Commands

```bash
npm run dev        # Start dev server
npm run build      # Build for production
npm run preview    # Preview production build
npm run lint       # Run ESLint + type checking
```

## Important Files

- `astro.config.mjs` - Astro configuration, MDX plugins, site URL
- `src/layouts/Layout.astro` - Base layout with head, meta tags, GA4
- `src/layouts/BlogPost.astro` - Blog post layout with markdown styling
- `src/styles/global.css` - CSS reset, custom properties, .page-container
- `src/content/config.ts` - Content collection schema for blog posts

## Brand Colors

Used in favicons, OG images, and any design assets:

- **Background:** `#0f172a` (dark navy)
- **Surface:** `#1e293b` (dark slate)
- **Primary:** `#818cf8` indigo (dark mode) / `#3730a3` (light mode)
- **Accent:** `#ec4899` pink / `#f472b6` (dark mode)
- **Gradient:** `#3730a3` → `#8b5cf6` → `#ec4899` (used in bottom bar, favicon, logo ring)

## Key Assets

- `public/favicon.svg` — primary favicon and header logo (SVG, scales to any size)
- `public/favicon.png` — PNG fallback generated from SVG via `sips`
- `public/og-default.png` — 1200×630px default OG image for pages without a featured image
- `design/og-preview.html` — source file for regenerating `og-default.png` (screenshot at 1200×630)
- `design/li-background-preview.html` — LinkedIn banner source (screenshot at 1584×396)

## OG Images

- Default OG image: `public/og-default.png` (used when no `image` prop passed to `Layout.astro`)
- Blog posts: `featuredImage` frontmatter field is converted to an absolute URL and passed as `image` to Layout
- To regenerate `og-default.png`: open `design/og-preview.html` in browser, screenshot at exactly 1200×630px

## Notes

- RSS feed at `/rss.xml` includes full post content
- Sitemap auto-generated by @astrojs/sitemap
- Git submodule `content/` points to `pn-blog-posts` repo — push new posts there, then update the submodule ref here
